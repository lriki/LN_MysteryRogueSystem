Sequel
==========

Sequel は行動の結果を視覚的に表示するための仕組み。

イメージとしては、攻撃に伴うアニメーションに該当する。
ただしアニメーションエフェクトの表示だけではなく、キャラクターのモーションやログの表示など、
行動の結果を自覚的に表示するためのあらゆる役割を負う。

> #### [2020/10/23] 本当に必要？
> 
> 安定させやすいアニメーションシステムを作るなら、ツクールコアスクリプト同様、
> View が GameObject の状態をずっと監視し、状態が変化したらなにか動かす方がよい。
> 
> ただしこの方法だと、スポット的に演出を挟みたいことすべてに対してなんらかの「状態」を作る必要がある。
> 代表的なところだと「罠を踏んだ時にカチッと音を鳴らす」。これだけのために Attribute にフィールドを増やすのは NG。


> #### [2020/10/23] 条件によって変わるアニメ開始タイミングをどうしよう？
> 通常攻撃だけでも、
> 1. 武器によって、相手が被ダメモーションを取るタイミングが違う。
> 2. 当たったかどうかで被ダメモーションの有無がかわる。
> 3. 外れたときに回避モーションを取る場合もある。
>
> 1 が特に厄介で、武器、あるいはアクションごとにカスタマイズできるようにする必要がある。
> 最悪データ駆動じゃなくてコーディング頑張るにしても、そういった仕組みが欲しいところ。
>
> 性質上、単純にある Entity に対してのモーション、という表現ではなく、
> `ひとつの動作の結果をユーザーにフィードバック(視覚的・聴覚的等)するための、一連の演出`
> と考えた方がよさそう。複数の Entity、あるいは画面全体の効果（色調変更など）も巻き込んで、演出を行うもの。

> #### [2020/10/23] ↑再考
> やっぱり一連のモーションを統合すると拡張に対応できなくなる。
> そうでなくても、攻撃中に発生する要素は多種多様
>
> - 武器に合わせた攻撃側モーション・エフェクト
> - ふきとばし
> - 会心メッセージ・エフェクト
> - 結果を受けた被ダメージ側のモーション
> - カウンターダメージエフェクト
>
> 個々のモーションを定義して、lock/unlock の仕組みで次のモーションへ連携できる仕組みにしないとダメそう。


並列 Sequel (歩行 Sequel)
----------

複数の Sequel は並列または直列で実行できる。

歩行は並列 Sequel の代表的な実装。




