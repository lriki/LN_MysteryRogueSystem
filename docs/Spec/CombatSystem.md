CombatSystem
==========

「攻撃」と「ダメージ適用」は別のコマンドとする。

> e.g) シレン2-ケンゴウの刀
> 攻撃したときに一定確率で、通常攻撃するのか特殊能力発動になるのか変わるケースがある。


EffectContext
----------

> 以前の DamageContext(攻撃用), MagicContext(魔法弾用) などを統合したもの。コアスクリプトの Game_Action みたいな感じ。

与ダメージや回復、状態異常の付加など、パラメータ変動を適用するために必要なあらゆる情報を収集し、修正値を作り上げるしくみ。

EffectContext 自身が Entity の Sequel を起動したり、座標を動かしたりすることは無い。
というより、今のところ EffectContext が Command を発行する予定はない。

一連の攻撃に関係する Entity の収集も行い、結果をそれぞれにフィードバックすることも行う。

攻撃側に経験値を与えたり、金銭のやりとりの処理など、Enitty として表現できないいわゆる「報酬」の受け渡しにも利用する。



ステート (状態異常・状態変化)
----------

Attribute - Behavior のペアとして実装する。

