Behavior-Ability-Action
==========

### Ability

Ability は Entity の各種行動や与・被Effect 時に追加の様々な効果を与えるもの。

State と同じく、Entity に対してアタッチしていく。

Ability は Entity ではないが、Entity と同じように Behavior を持つこともできる。
またアタッチ元の Entity に対して発生したイベントに呼応して実行する Effect のリストを持つ。

`Ability はそのまま合成印となる。`

> ###### NOTE
> ほとんどの場合 Behavior を持つことは無い。しかしスパークソードなど状態管理が必要となる効果の場合はそれが必要となる。

> ###### Ability は必須？
> Ability は取り付け可能な特殊能力を表現するために使う。
> 完全にあるアイテム固有の効果であれば、Ability を作ることなく、直接 Item に対して RE-Bhavior や RE-Acton を定義してもかまわない。
> 例えば、ヤリなどの合成できない両手武器や形見の壺などシステムによって制御される効果を持つものが相当する。
>
> 合成印や新種道具の追加効果となりえないものは Behavior として作る、で方針統一したほうがいいだろう。

### Action

Entity や Map などに対して何らかの変化を与える処理を表す。

例えば次のような Effect がある。

- ダメージを与える
- 相手をふきとばす
- 目の前に火柱を出す
- 炎のブレスを吐く
- 部屋にある罠を消す

基本的には 1 つのアイテムの効果を 1 つの Action で表すものと考えてよい。

> Command-Action の名称と動作イメージは、QtWidgets の Command-Action のものを参考にしている。
> Command によってあるアイテムをどのように使えるかを定義する。
> Action によってアイテムが使われたときの効果を定義する。
> 定義済みの Command もいくつか存在し、代表的なものは "置いたとき" "投げ当てた時" など。

> ###### Behavior とするべきか？Actionとするべきか？
> Command に応答して何かさせたいことを `Editor 上から指定したいめ` 、Action を使う。
> 実際のところあらゆるイベントを Command にしてしまえば、Behavior を作る必要はなくなるのだが程度がある。
> あるアイテムにだけ完全に固有の動作であるなら、Behavior でかまわない。
> 
> ※そもそも Action はカスタマイズ性向上のために用意したもので必須ではない。極端に言うとすべて Behavior でもかまわない。
