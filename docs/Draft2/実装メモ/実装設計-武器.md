実装設計-武器
==========


リスト (シレン2)
----------

### アイアンハンマー

- HardTrapDemolitionWeaponBehavior

優先度低めで攻撃Commandをフックする。
handled=false、つまり攻撃が成立していなかった場合は正面に罠があるかどうかでアクションを行う。
※【装備#素手について】の関係で、優先度は必要なくなりそう。
※やっぱり優先度必要かも。印として合成されていた場合、例えば火と競合するときはこちらの方が優先。

### アイアンヘッドの頭

- HammerHeadWeaponBehavior

近い方から3マス先まで攻撃する Behavior.
Animation のほうが考えること多いか。Animation には結果として何マス先へ攻撃したかをパラメータとして渡す。

### オトトスピア

これも Animation が特殊なパターン。相手が水中であれば水中に向かって突き出す。

これは Behabior というよりは、ダメージ計算式に影響を与えるもの。

Trait に対して 水棲特攻Attribute をつける。

### 回復の剣

これは攻撃の結果を受けて、攻撃者のHPを回復するもの。
優先度の低い Behavior として実装するが、攻撃 Command の結果を知れる必要がある。

ツクール MV だと Game_ActionResult が担当。isDrain が true なら、Subject(攻撃側battler)のHPを回復している。

### 火迅風魔刀

イベント入手なのでイベントシステムで武器の attr を見れるようにする必要があるかな。

### カタナ

Normal

### かつおぶし

TODO: "かじる"

### ガマラのムチ

### きたえた木刀

### 木づち

### 金の剣

### ケンゴウの刀

### 剛剣マンジカブラ

### こんぼう

### ごんぼう

### サトリのツルハシ

### 成仏のカマ

### 神器の剣

### スパークソード

```
Ability (ステート):
<MR-Key: kSparkWeaponAbility>
<MR-Category: Ability>
<RE-Behabior:BSparkWeapon>  # この Behavior は Entity ではなく Ability に付くもの
```

```
武器:
<MR-Key: kSparkSword>
<MR-Category: Weapon>
<RE-Ability:kSparkWeaponAbility>            # この Behavior は Entity ではなく Ability に付くもの
<RE-SynthesisAbility:kSparkWeaponAbility>   # 合成印
```

### 象牙の剣

### 大三元の剣

### 使い捨ての剣

### つるはし

### どうたぬき

### ドラゴンキラー

### ドレインバスター

### ながまき

### にぎりへんげの剣

### 如意棒

### 秘剣カブラステギ

### 必中の剣

### 一ツ目殺し

### 宝剣ミジンハ

### 三日月刀

### ミノタウロスの斧

### モーニングスター

これに「三」印を付けても意味が無いようにしたいが…？
→ 攻撃対象決定と実際の攻撃処理を分ける

### ヤリ

### 妖刀かまいたち

正面3方向に攻撃する、というより、内部的には正面に加えてサイド2マスを攻撃対象に加える、という効果になる。

### 竜神剣






























